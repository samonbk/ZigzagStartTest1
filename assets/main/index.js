System.register("chunks:///_virtual/Status.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var e;t("Game_Status",void 0),n._RF.push({},"10be1CiapBBfLlns7wJcxtL","Status",void 0),function(t){t[t.Init=0]="Init",t[t.Playing=1]="Playing",t[t.Ended=2]="Ended"}(e||(e=t("Game_Status",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/RoundRectMask.ts",["cc"],(function(e){"use strict";var t,i,r,n,a,o,u,s;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.Mask,n=e.CCFloat,a=e.UITransform,o=e.game,u=e.Game,s=e.Component}],execute:function(){var c,l,p,d,h,f,b,v,m;function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"110e5aoFqxHvLMJz9BmDctV","RoundRectMask",void 0);var w=i.ccclass,_=i.property,M=i.executeInEditMode,z=i.disallowMultiple,C=i.requireComponent,E=i.menu;e("RoundRectMask",(c=w("RoundRectMask"),l=M(!0),p=z(!0),d=C(r),h=E("渲染组件/圆角遮罩"),f=_({type:n,tooltip:"圆角半径:\n0-1之间为最小边长比例值, \n>1为具体像素值"}),c(b=l(b=p(b=d(b=h((m=function(e,t,i,r,n){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((v=function(e){var t,i;function n(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return k(R(t=e.call.apply(e,[this].concat(r))||this),"propRadius",m,R(t)),g(R(t),"mask",null),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s,c,l,p=n.prototype;return p.onEnable=function(){this.mask=this.getComponent(r),this.updateMask(this.radius)},p.updateMask=function(e){var t=e>=0?e:0;if(t<1){var i=this.node.getComponent(a);t=Math.min((null==i?void 0:i.width)||0,(null==i?void 0:i.width)||0)*t}this.mask&&(this.mask.radius=t,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=r.Type.RECT)},p._updateGraphics=function(){var e=this._graphics;e&&this.onDraw(e)},p.onDraw=function(e){var t=this.node.getComponent(a);e.clear();var i=t.width,r=t.height,n=-i*t.anchorX,s=-r*t.anchorY;e.roundRect(n,s,i,r,this.radius||0),o.renderType===u.RENDER_TYPE_CANVAS?e.stroke():e.fill()},s=n,(c=[{key:"radius",get:function(){return this.propRadius},set:function(e){this.propRadius=e,this.updateMask(e)}}])&&y(s.prototype,c),l&&y(s,l),n}(s)).prototype,"propRadius",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),b=v))||b)||b)||b)||b)||b));t._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["cc","./Status.ts","./Player.ts"],(function(t){"use strict";var i,e,n,o,r,l,s,a,c,u,h;return{setters:[function(t){i=t.cclegacy,e=t._decorator,n=t.Prefab,o=t.Node,r=t.Label,l=t.UITransform,s=t.Vec3,a=t.instantiate,c=t.Component},function(t){u=t.Game_Status},function(t){h=t.Player}],execute:function(){var f,p,d,b,g,v,m,y,k,z,w,P,_,S,C;function G(t,i,e,n){e&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0})}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function O(t,i,e,n,o){var r={};return Object.keys(n).forEach((function(t){r[t]=n[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=e.slice().reverse().reduce((function(e,n){return n(t,i,e)||e}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,i,r),r=null),r}i._RF.push({},"69352MND6FGKr7Oai9bpHMG","Game",void 0);var B=e.ccclass,j=e.property;t("Game",(f=B("Game"),p=j({type:n,tooltip:"障碍物"}),d=j({type:o,tooltip:"地面"}),b=j({type:o,tooltip:"玩家"}),g=j({type:r,tooltip:"分数"}),v=j({type:o,tooltip:"结果"}),m=j({type:o,tooltip:"结果"}),f((z=O((k=function(t){var i,e;function n(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return G(I(i=t.call.apply(t,[this].concat(n))||this),"block",z,I(i)),G(I(i),"ground",w,I(i)),G(I(i),"player",P,I(i)),G(I(i),"score",_,I(i)),G(I(i),"welcome",S,I(i)),G(I(i),"result",C,I(i)),M(I(i),"len",12),M(I(i),"blocks",[]),M(I(i),"moveSpeed",5),M(I(i),"blockSize",null),M(I(i),"groundPos",null),M(I(i),"groundSize",null),M(I(i),"status",u.Init),M(I(i),"_score",0),M(I(i),"_difficulty",3),M(I(i),"timer",0),i}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var o=n.prototype;return o.onLoad=function(){var t=this;this.groundPos=this.ground.getPosition(),this.groundSize=this.ground.getComponent(l).contentSize,this.initBlock(),this.calcDiffcult(),this.player.on("onGameOver",(function(){console.log("游戏结束"),t._difficulty=3,clearInterval(t.timer),t.status=u.Ended,t.result.active=!0}))},o.start=function(){},o.newGame=function(){var t;this._score=0,this.status=u.Init,this.score.string="分数：0",this.welcome.active=!1,this.result.active=!1,null===(t=this.player.getComponent(h))||void 0===t||t.onLoad(),this.calcDiffcult(),this.initBlock()},o.restart=function(){var t;this._score=0,this.status=u.Init,this.score.string="分数：0",this.result.active=!1,null===(t=this.player.getComponent(h))||void 0===t||t.onLoad(),this.calcDiffcult(),this.initBlock()},o.calcDiffcult=function(){var t=this;this.timer=setInterval((function(){t._difficulty-=.2,t._difficulty<=0&&(t._difficulty=0,clearInterval(t.timer))}),1e3)},o.generateSign=function(){return Math.random()>.5?1:-1},o.generatePostion=function(t){var i,e=null===(i=this.node.getComponent(l))||void 0===i?void 0:i.contentSize,n=3*Math.random()+this._difficulty,o=2*Math.random()+1.5,r=this.blockSize.width*n,a=this.blockSize.height*o*this.generateSign(),c=t.x+r,u=Math.max(t.y+a,this.groundPos.y);return u=Math.min(u,e.height/2),console.log("intervalX:",this._difficulty,r,a),new s(c,u,0)},o.initBlock=function(){var t=this;this.blocks.forEach((function(i){return t.node.removeChild(i)})),this.blocks=[];for(var i=0;i<this.len;i++){var e=a(this.block);this.blockSize=e.getComponent(l).contentSize;var n=this.blocks[this.blocks.length-1],o=this.generatePostion((null==n?void 0:n.getPosition())||new s(0,0,0));e.setPosition(o),this.blocks.push(e),this.node.addChild(e)}},o.updatePosition=function(){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t],e=i.getPosition();i.setPosition(new s(e.x-this.moveSpeed,e.y,e.z)),this.loopBlock(i,t)}},o.loopBlock=function(t,i){var e,n,o=t.getPosition(),r=null===(e=t.getComponent(l))||void 0===e?void 0:e.contentSize,s=null===(n=this.node.getComponent(l))||void 0===n?void 0:n.contentSize;if(o.x<-(s.width/2+r.width)){this.blocks.splice(i,1);var a=this.blocks[this.blocks.length-1].getPosition(),c=this.generatePostion(a);t.setPosition(c),this.blocks.push(t),this.gainScore()}},o.gainScore=function(){this.score.string="分数："+this._score,this._score+=1},o.update=function(t){this.status!==u.Ended&&this.updatePosition()},n}(c)).prototype,"block",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=O(k.prototype,"ground",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=O(k.prototype,"player",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=O(k.prototype,"score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=O(k.prototype,"welcome",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=O(k.prototype,"result",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Block.ts",["cc"],(function(t){"use strict";var n,e,o,r,i,c,a;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.color,r=t.Collider2D,i=t.Contact2DType,c=t.Sprite,a=t.Component}],execute:function(){var s;function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}n._RF.push({},"77b19sFCJxFmJoANxe8pdJN","Block",void 0);var p=e.ccclass,h=(e.property,o(218,25,25,255)),f=o(31,197,204,255);t("Block",p("Block")(s=function(t){var n,e;function o(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return l(u(n=t.call.apply(t,[this].concat(o))||this),"timer",null),n}e=t,(n=o).prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e;var a=o.prototype;return a.onLoad=function(){var t=this.getComponent(r);null==t||t.on(i.BEGIN_CONTACT,this.onBeginContact,this),null==t||t.on(i.END_CONTACT,this.onEndContact,this)},a.onBeginContact=function(){var t=this.node.getComponent(c);this.timer&&clearTimeout(this.timer),this.node.emit("onGameOver"),t.color=h},a.onEndContact=function(){var t=this.node.getComponent(c);this.timer=setTimeout((function(){t.color=f}),300)},a.start=function(){},o}(a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["cc"],(function(t){"use strict";var n,e,o,i,r,a,c,s,u,h;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.PhysicsSystem2D,i=t.Vec2,r=t.systemEvent,a=t.SystemEventType,c=t.Collider2D,s=t.Contact2DType,u=t.RigidBody2D,h=t.Component}],execute:function(){var y;function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}n._RF.push({},"b25d1/REBxMnq51/SqNtMVi","Player",void 0);var v=e.ccclass;e.property,t("Player",v("Player")(y=function(t){var n,e;function h(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return p(l(n=t.call.apply(t,[this].concat(o))||this),"canJump",!1),p(l(n),"speed",26),n}e=t,(n=h).prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e;var y=h.prototype;return y.onLoad=function(){var t=o.instance.gravity;o.instance.gravity=new i(t.x,-300),r.on(a.TOUCH_START,this.onTouchStart,this),r.on(a.TOUCH_END,this.onTouchEnd,this);var n=this.getComponent(c);null==n||n.on(s.BEGIN_CONTACT,this.onBeginContact,this)},y.onBeginContact=function(t,n){"ceiling"!==n.node.name&&(r.off(a.TOUCH_START,this.onTouchStart,this),r.off(a.TOUCH_END,this.onTouchEnd,this),this.node.emit("onGameOver"),this.canJump=!0)},y.onTouchStart=function(){var t=o.instance.gravity;o.instance.gravity=new i(t.x,-2e3);var n=this.getComponent(u),e=n.linearVelocity;this.canJump=!1,e.y=this.speed*-Math.sign(t.y),n.linearVelocity=e,console.log("onTouchStart:",e,o.instance.gravity)},y.onTouchEnd=function(){var t=o.instance.gravity;o.instance.gravity=new i(t.x,-2500),console.log("onTouchEnd:",this.canJump,o.instance.gravity)},y.start=function(){},h}(h))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/Welcome.ts",["cc"],(function(t){"use strict";var e,o,c,r;return{setters:[function(t){e=t.cclegacy,o=t._decorator,c=t.director,r=t.Component}],execute:function(){var n;e._RF.push({},"df63ejzCltJxrRgY3qqR9tk","Welcome",void 0);var p=o.ccclass;o.property,t("Welcome",p("Welcome")(n=function(t){var e,o;function r(){return t.apply(this,arguments)||this}o=t,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var n=r.prototype;return n.start=function(){},n.newGame=function(){console.log("开始新游戏"),c.loadScene("Main",(function(t,e){console.log(t,e)}))},r}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Status.ts","./RoundRectMask.ts","./Player.ts","./Game.ts","./Block.ts","./Welcome.ts"],(function(){"use strict";return{setters:[function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});